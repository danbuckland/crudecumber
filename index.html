<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Crudecumber by danbuckland</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Courgette' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="css/github-light.css" media="screen">
  </head>
  <body>
    <section class="splash-header">
      <div class="splash-content">
        <h1 class="project-name">Crudecumber</h1>
        <h2 class="project-tagline">A manual Cucumber runner</h2>
        <a href="https://github.com/danbuckland/crudecumber" class="btn">View on GitHub</a>
        <a href="https://rubygems.org/gems/crudecumber" class="btn">View on RubyGems</a>
      </div>
    </section>

    <section class="main-content">
      <p>Crudecumber allows developers and testers to manually run through Cucumber scenarios written in Gherkin in the command line without the need for any step definitions.</p>

<p>Crudecumber was developed as a tool to promote the use of <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">Behaviour Driven Development</a> and <a href="https://github.com/cucumber/cucumber" title="Cucumber GitHub Repository">Cucumber</a> within teams that might not have the time or expertise to turn their scenarios into automated tests.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>You must have Ruby 1.9.3 or higher running on your machine. Enter <code>ruby -v</code> in a terminal to see the version that is currently running.</p>

<p>Install the <strong>Crudecumber</strong> Ruby gem by running <code>gem install crudecumber</code>. Additional dependencies, including Cucumber and its dependencies, will automatically be downloaded and installed at this time.</p>

<h2>
<a id="running" class="anchor" href="#running" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running</h2>

<p><strong>Crudecumber</strong> can be run in two different ways, the simplest is to just run <strong>Crudecumber</strong> directly in the terminal. The alternative is to have <strong>Crudecumber</strong> called and run by Cucumber using a profile in an existing test suite. Both methods are described below.</p>

<h3>
<a id="running-as-crudecumber" class="anchor" href="#running-as-crudecumber" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running as Crudecumber</h3>

<p>After installing <strong>Crudecumber</strong>, simply type <code>crudecumber</code> in a terminal from within a directory that contains a <strong>features</strong> folder with at least one <strong><em>.feature</em></strong> file.</p>

<p>Your features and scenarios are run as they would be with Cucumber, but stop at each step to await one of the following keyboard inputs:</p>

<ul>
<li>
<strong>P</strong> or <strong>Return</strong> to <strong>pass</strong> the step.</li>
<li>
<strong>F</strong> or <strong>X</strong> to <strong>fail</strong> the step and then type in the reason.</li>
<li>
<strong>S</strong> to <strong>Skip</strong> the step.</li>
</ul>

<p>You can append any of the usual Cucumber arguments to, for example, run a subset of your tests e.g.:</p>

<p><code>crudecumber -t @manual</code> to run only those scenarios tagged with <strong><a href="https://github.com/manual" class="user-mention">@manual</a></strong></p>

<h3>
<a id="running-as-a-cucumber-profile" class="anchor" href="#running-as-a-cucumber-profile" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running as a Cucumber Profile</h3>

<p>Using a <code>cucumber.yml</code> file, it's possible to have <strong>Crudecumber</strong> run your scenarios for one or more <a href="https://github.com/cucumber/cucumber/wiki/cucumber.yml">Cucumber profiles</a>. This allows the user to use <strong>Crudecumber</strong> to run tests, or a subset of tests, manually by typing, for example, <code>cucumber -p manual</code>.</p>

<p>After installing <strong>Crudecumber</strong>, you'll need to require it in your automation suite. However, as soon as <strong>Crudecumber</strong> is loaded into your environment, it will be used to run every scenario.</p>

<p>To avoid <strong>Crudecumber</strong> being used on your already automated scenarios, it's recommended to conditionally <code>require 'crudecumber'</code> based on a specific tag. In the below example, we're using the tag <strong><a href="https://github.com/manual" class="user-mention">@manual</a></strong>.</p>

<p>Add the following in the <strong>Before</strong> part of your <code>env.rb</code> file:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c"># features/support/env.rb</span>

<span class="pl-c1">Before</span> <span class="pl-k">do </span>|<span class="pl-smi">scenario</span>|
  <span class="pl-k">if</span> scenario.source_tag_names.include? <span class="pl-s"><span class="pl-pds">"</span>@manual<span class="pl-pds">"</span></span>
    <span class="pl-k">require</span> <span class="pl-s"><span class="pl-pds">'</span>crudecumber<span class="pl-pds">'</span></span>
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>This will work now if you were to run <code>cucumber -t @manual</code>. However, to avoid scenarios tagged with <strong><a href="https://github.com/manual" class="user-mention">@manual</a></strong> being run during automated test runs, it's recommended to exclude these scenarios from all other profiles.</p>

<p>Add a <strong>manual</strong> profile to run scenarios tagged <strong><a href="https://github.com/manual" class="user-mention">@manual</a></strong> and exclude scenarios tagged <strong><a href="https://github.com/manual" class="user-mention">@manual</a></strong> from other profiles in your project's <code>cucumber.yml</code> file:</p>

<div class="highlight highlight-source-yaml"><pre><span class="pl-c"># config/cucumber.yml</span>

<span class="pl-s"><span class="pl-ent">default:</span> <span class="pl-s">-t ~@manual -f pretty -f html -o automated_test_report.html</span></span>
<span class="pl-s"><span class="pl-ent">manual:</span> <span class="pl-s">-t @manual</span></span>
</pre></div>

<p>Then run your manual tests by typing <code>cucumber -p manual</code> in a terminal and using the keyboard inputs described in the previous section.</p>

<p><strong>Crudecumber</strong> uses its own modified formatters to display scenarios in the terminal and output an html report without error messages. Including other formatters and outputs in your <strong>manual</strong> profile may break something.</p>

<h4>
<a id="force-crudecumber-from-cucumber" class="anchor" href="#force-crudecumber-from-cucumber" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Force Crudecumber from Cucumber</h4>

<p>Depending on the structure of you Cucumber tests, you may encounter an issue with the above where Cucumber runs again after <strong>Crudecumber</strong> has finished. This tends to occur if you have a lot going on in your <strong>support</strong> directory or you're using a framework like <a href="https://github.com/calabash" title="Calabash GitHub account">Calabash</a>.</p>

<p>To fix, replace <code>require 'crudecumber'</code> with the following in the <strong>Before</strong> part of you <code>env.rb</code> file:</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c"># features/support/env.rb</span>

<span class="pl-c1">Before</span> <span class="pl-k">do </span>|<span class="pl-smi">scenario</span>|
  <span class="pl-k">if</span> scenario.source_tag_names.include? <span class="pl-s"><span class="pl-pds">"</span>@manual<span class="pl-pds">"</span></span>
    exec(<span class="pl-s"><span class="pl-pds">'</span>crudecumber -p manual<span class="pl-pds">'</span></span>)
  <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>

<p>Using <code>exec</code> replaces the currently running process – in this case Cucumber – with the specified new process – in this case <strong>Crudecumber</strong>.</p>

<p>As before, use a <strong>manual</strong> profile to run scenarios tagged <strong><a href="https://github.com/manual" class="user-mention">@manual</a></strong> and exclude scenarios tagged <strong><a href="https://github.com/manual" class="user-mention">@manual</a></strong> from other profiles in your project's <code>cucumber.yml</code> file:</p>

<div class="highlight highlight-source-yaml"><pre><span class="pl-c"># config/cucumber.yml</span>

<span class="pl-s"><span class="pl-ent">default:</span> <span class="pl-s">-t ~@manual -f pretty -f html -o automated_test_report.html</span></span>
<span class="pl-s"><span class="pl-ent">manual:</span> <span class="pl-s">-t @manual -f progress</span></span>
</pre></div>

<p>Adding <code>-f progress</code> will prevent the first feature being printed before <strong>Crudecumber</strong> is called.</p>

<p>For this to work, you should ensure that you have <strong>Crudecumber</strong> in your Gemfile and installed through bundler.</p>

<p>If you'd like to contribute to this project and perhaps fix any of the above, please fork the project on GitHub, make and test your change and then generate a pull request!</p>

<h2>
<a id="copyright" class="anchor" href="#copyright" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Copyright</h2>

<p>Copyright (c) 2015 Dan Buckland and Contributors.</p>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<p><a href="https://github.com/danbuckland" class="user-mention">@danbuckland</a> and <a href="https://github.com/bonnett89" class="user-mention">@bonnett89</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/danbuckland/crudecumber">Crudecumber</a> is maintained by <a href="https://github.com/danbuckland">danbuckland</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>


  </body>
</html>
